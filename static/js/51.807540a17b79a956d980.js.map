{"version":3,"sources":["webpack:///src/components/Bluetooth.vue","webpack:///./src/components/Bluetooth.vue?0ed3","webpack:///./src/components/Bluetooth.vue"],"names":["Bluetooth","name","data","bluedata","bid","mounted","this","$store","state","head","localStorage","getItem","window","plus","startBluetoothDiscovery","document","addEventListener","methods","changeblue","setItem","nativeUI","toast","opennew","target","$router","push","that","bluetooth","openBluetoothAdapter","success","e","startBluetoothDevicesDiscovery","setInterval","getBluetoothDevices","fail","alert","devices","console","log","stringify_default","stopBluetoothDiscovery","stopBluetoothDevicesDiscovery","closeBluetoothAdapter","computed","components","THead","resolve","__webpack_require__","then","__WEBPACK_AMD_REQUIRE_ARRAY__","apply","bind","catch","oe","components_Bluetooth","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","id","_v","_l","val","localName","class","deviceId","on","click","$event","_s","_e","staticRenderFns","Component","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"+HAWAA,GACAC,KAAA,YACAC,KAFA,WAGA,OACAC,YACAC,IAAA,KAGAC,QARA,WAUAC,KAAAC,OAAAC,MAAAC,KAAA,QACAH,KAAAF,IAAAM,aAAAC,QAAA,OACAC,OAAAC,KAHAP,KAIAQ,0BAEAC,SAAAC,iBAAA,YANAV,KAMAQ,2BAAA,IAGAG,SACAC,WAAA,SAAAd,GACAM,aAAAS,QAAA,MAAAf,GACAE,KAAAF,MACAS,KAAAO,SAAAC,MAAA,cAEAC,QAAA,SAAAC,GACAjB,KAAAkB,QAAAC,MACAxB,KAAAsB,KAIAT,wBAAA,WACAD,KAAAO,SAAAC,MAAA,SACA,IAAAK,EAAApB,KACAO,KAAAc,UAAAC,sBACAC,QAAA,SAAAC,GACAjB,KAAAc,UAAAI,gCACAF,QAAA,SAAAC,GACAE,YAAA,WACAN,EAAAO,uBACA,MAEAC,KAAA,SAAAJ,GACAK,MAAA,sBAIAD,KAAA,SAAAJ,GACAK,MAAA,sBAKAF,oBAAA,WACA,IAAAP,EAAApB,KACAO,KAAAc,UAAAM,qBACAJ,QAAA,SAAAC,GACAJ,EAAAvB,SAAA2B,EAAAM,SAEAF,KAAA,SAAAJ,GACAO,QAAAC,IAAA,uBAAAC,IAAAT,QAKAU,uBAAA,WACA3B,KAAAc,UAAAc,+BACAZ,QAAA,SAAAC,GACAjB,KAAAc,UAAAe,uBACAb,QAAA,SAAAC,GACAO,QAAAC,IAAA,kBAAAC,IAAAT,KAEAI,KAAA,SAAAJ,GACAO,QAAAC,IAAA,iBAAAC,IAAAT,QAIAI,KAAA,SAAAJ,GACAO,QAAAC,IAAA,0BAAAC,IAAAT,SAKAa,YAGAC,YACAC,MAAA,SAAAC,GAAA,OAAAC,EAAAjB,EAAA,IAAAkB,KAAA,eAAAC,GAAAF,EAAA,WAAAG,MAAA,KAAAD,IAAAE,KAAA7C,OAAA8C,MAAAL,EAAAM,OC9FeC,GADEC,OAFjB,WAA0B,IAAAC,EAAAlD,KAAamD,EAAAD,EAAAE,eAA0BC,EAAAH,EAAAI,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAiBE,YAAA,YAAAC,OAA+BC,GAAA,aAAgBJ,EAAA,UAAAH,EAAAQ,GAAA,KAAAL,EAAA,OAAqCG,OAAOC,GAAA,SAAaP,EAAAS,GAAAT,EAAA,kBAAAU,GAAqC,UAAAA,EAAAC,UAAAR,EAAA,OAAqCE,YAAA,WAAAO,MAAAZ,EAAApD,KAAA8D,EAAAG,SAAA,YAAAC,IAAmEC,MAAA,SAAAC,GAAyB,OAAAhB,EAAAtC,WAAAgD,EAAAG,cAAsCb,EAAAQ,GAAA,WAAAR,EAAAiB,GAAAP,EAAAC,WAAA,YAAAX,EAAAkB,OAA+D,QAE5cC,oBCCjB,IAcAC,EAdyB7B,EAAQ,OAcjC8B,CACE7E,EACAsD,GATF,EAVA,SAAAwB,GACE/B,EAAQ,SAaV,KAEA,MAUegC,EAAA,QAAAH,EAAiB","file":"static/js/51.807540a17b79a956d980.js","sourcesContent":["<template>\r\n\t<div id=\"wrapper\" class=\"Bluetooth\">\r\n\t\t<t-head></t-head>\r\n\t\t<div id=\"main\">\r\n\t\t\t<div class=\"bluelist\" @click=\"changeblue(val.deviceId)\" :class=\"bid==val.deviceId?'active':''\" v-for=\"val in bluedata\" v-if=\"val.localName!=''\">\r\n\t\t\t\t{{val.localName}}\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n<script>\r\n\texport default {\r\n\t\tname: 'Bluetooth',\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tbluedata: [],\r\n\t\t\t\tbid: ''\r\n\t\t\t}\r\n\t\t},\r\n\t\tmounted() {\r\n\t\t\tvar that = this\r\n\t\t\tthis.$store.state.head = '设置打印机'\r\n\t\t\tthis.bid = localStorage.getItem('bid')\r\n\t\t\tif(window.plus) {\r\n\t\t\t\tthat.startBluetoothDiscovery()\r\n\t\t\t} else {\r\n\t\t\t\tdocument.addEventListener(\"plusready\", that.startBluetoothDiscovery(), false);\r\n\t\t\t}\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tchangeblue: function(bid) {\r\n\t\t\t\tlocalStorage.setItem('bid', bid)\r\n\t\t\t\tthis.bid = bid\r\n\t\t\t\tplus.nativeUI.toast('默认打印机已修改！')\r\n\t\t\t},\r\n\t\t\topennew: function(target) {\r\n\t\t\t\tthis.$router.push({\r\n\t\t\t\t\tname: target\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t// 开始搜索蓝牙\r\n\t\t\tstartBluetoothDiscovery: function() {\r\n\t\t\t\tplus.nativeUI.toast('搜索蓝牙中')\r\n\t\t\t\tvar that = this\r\n\t\t\t\tplus.bluetooth.openBluetoothAdapter({\r\n\t\t\t\t\tsuccess: function(e) {\r\n\t\t\t\t\t\tplus.bluetooth.startBluetoothDevicesDiscovery({\r\n\t\t\t\t\t\t\tsuccess: function(e) {\r\n\t\t\t\t\t\t\t\tsetInterval(function() {\r\n\t\t\t\t\t\t\t\t\tthat.getBluetoothDevices()\r\n\t\t\t\t\t\t\t\t}, 1000)\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\tfail: function(e) {\r\n\t\t\t\t\t\t\t\talert('打开蓝牙失败，请检查后重试！');\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfail: function(e) {\r\n\t\t\t\t\t\talert('打开蓝牙失败，请检查后重试！');\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\t// 获取已搜索到的蓝牙设备\r\n\t\t\tgetBluetoothDevices: function() {\r\n\t\t\t\tvar that = this\r\n\t\t\t\tplus.bluetooth.getBluetoothDevices({\r\n\t\t\t\t\tsuccess: function(e) {\r\n\t\t\t\t\t\tthat.bluedata = e.devices;\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfail: function(e) {\r\n\t\t\t\t\t\tconsole.log('get devices failed: ' + JSON.stringify(e));\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\t// 结束搜索蓝牙\r\n\t\t\tstopBluetoothDiscovery: function() {\r\n\t\t\t\tplus.bluetooth.stopBluetoothDevicesDiscovery({\r\n\t\t\t\t\tsuccess: function(e) {\r\n\t\t\t\t\t\tplus.bluetooth.closeBluetoothAdapter({\r\n\t\t\t\t\t\t\tsuccess: function(e) {\r\n\t\t\t\t\t\t\t\tconsole.log('close success: ' + JSON.stringify(e));\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\tfail: function(e) {\r\n\t\t\t\t\t\t\t\tconsole.log('close failed: ' + JSON.stringify(e));\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfail: function(e) {\r\n\t\t\t\t\t\tconsole.log('stop discovery failed: ' + JSON.stringify(e));\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t},\r\n\t\tcomputed: {\r\n\r\n\t\t},\r\n\t\tcomponents: {\r\n\t\t\tTHead: resolve => require(['./head'], resolve),\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style type=\"text/css\" lang=\"scss\">\r\n\t.Bluetooth {\r\n\t\t.bluelist {\r\n\t\t\theight: .8rem;\r\n\t\t\tdisplay: flex;\r\n\t\t\talign-items: center;\r\n\t\t\ttext-indent: .3rem;\r\n\t\t\tbackground: #FFFFFF;\r\n\t\t\tborder-bottom: 1px solid #F4F4F4;\r\n\t\t}\r\n\t\t.active {\r\n\t\t\tcolor: #FFC408;\r\n\t\t\tborder: 1px solid #FFC408;\r\n\t\t}\r\n\t}\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/components/Bluetooth.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"Bluetooth\",attrs:{\"id\":\"wrapper\"}},[_c('t-head'),_vm._v(\" \"),_c('div',{attrs:{\"id\":\"main\"}},_vm._l((_vm.bluedata),function(val){return (val.localName!='')?_c('div',{staticClass:\"bluelist\",class:_vm.bid==val.deviceId?'active':'',on:{\"click\":function($event){return _vm.changeblue(val.deviceId)}}},[_vm._v(\"\\n\\t\\t\\t\"+_vm._s(val.localName)+\"\\n\\t\\t\")]):_vm._e()}),0)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-08b9c79e\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/Bluetooth.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-08b9c79e\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Bluetooth.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Bluetooth.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Bluetooth.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-08b9c79e\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Bluetooth.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Bluetooth.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}