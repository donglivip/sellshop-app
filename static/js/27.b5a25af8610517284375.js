webpackJsonp([27],{"0gTd":function(e,t){},"S+2A":function(e,t,a){"use strict";(function(e){t.a={name:"userregister",data:function(){return{phone:"",uploadtarget:"",files:[],cityboo:!1,alertboo:!1,usTeName:"",shopname:"",bottomboo:!1,bottomtext:"",zname:"",bottomdata:[],power:[],myusTeDetailed:"",usTrName:"",myusTeCardId:"",usTeSex:1,usTpName:"",power02:[]}},mounted:function(){""==this.usTraderEmployeeId?this.$store.state.head="添加员工":(this.$store.state.head="编辑员工",this.myusTeCardId=this.usTeCardId,this.myusTeDetailed=this.usTeDetailed),this.myajax()},methods:{myajax:function(){var t=this;e.ajax({type:"post",url:t.myurl+"/selectUsTraderPages",dataType:"json",success:function(e){t.power.push(e.data[8].usTraderPagesId)}})},navclick:function(e){this.bottomdata[e].choice=!this.bottomdata[e].choice},submit:function(){this.power=[];for(var e=0;e<this.bottomdata.length;e++)1==this.bottomdata[e].choice&&(this.power.push(this.bottomdata[e].usTraderPagesId),this.power02.push(this.bottomdata[e].usTpsName));this.bottomshow()},bottomshow:function(e){this.bottomboo=!this.bottomboo},alertchange:function(){this.alertboo=!this.alertboo},citychange:function(){this.cityboo=!this.cityboo},opennew:function(e){this.$router.push({name:e})},gosubmit:function(){var t=this;if(""==this.usTraderEmployeeId)e.ajax({type:"post",url:t.myurl+"/usTraderEmployeeLogin",data:{phone:t.phone},dataType:"json",success:function(a){if(0==a.data){var s={usTraderId:localStorage.getItem("userid"),usTeName:t.usTeName,usTeSex:t.usTeSex,usTeCardId:t.myusTeCardId,usTeProvince:t.province,usTeCity:t.city,usTeArea:t.area,usTeDetailed:t.myusTeDetailed,usTrName:t.usTrName,param:t.power,usTePhone:t.phone,usTpName:t.usTpName};e.ajax({type:"post",url:t.myurl+"/insertTraderEmployee",dataType:"json",data:s,success:function(e){1==e.data?(plus.nativeUI.toast("添加成功"),t.$router.back()):plus.nativeUI.toast("添加失败")}})}else alert("手机号已存在！")}});else{var a={usTraderId:localStorage.getItem("userid"),usTeName:t.usTeName,usTeSex:t.usTeSex,usTeCardId:t.myusTeCardId,usTeProvince:t.province,usTeCity:t.city,usTeArea:t.area,usTeDetailed:t.myusTeDetailed,usTrName:t.usTrName,param:"['1']"};console.log(a),e.ajax({type:"post",url:t.myurl+"/insertTraderEmployee",dataType:"json",data:a,success:function(e){console.log(e),1==e.data?alert("编辑成功"):alert("编辑失败")}})}}},computed:{myurl:function(){return this.$store.state.myurl},province:function(){return this.$store.state.province},city:function(){return this.$store.state.city},area:function(){return this.$store.state.area},usTraderEmployeeId:function(){return this.$store.state.usTraderEmployeeId},usTeCardId:function(){return this.$store.state.usTeCardId},usTeDetailed:function(){return this.$store.state.usTeDetailed}},components:{cityPicker:function(e){return a.e(56).then(function(){var t=[a("MiQN")];e.apply(null,t)}.bind(this)).catch(a.oe)},alert:function(e){return a.e(55).then(function(){var t=[a("fSq5")];e.apply(null,t)}.bind(this)).catch(a.oe)},THead:function(e){return a.e(54).then(function(){var t=[a("2Hch")];e.apply(null,t)}.bind(this)).catch(a.oe)}}}}).call(t,a("7t+N"))},vgl0:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a("S+2A"),o={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"staffdetail",attrs:{id:"wrapper"}},[a("t-head"),e._v(" "),a("div",{attrs:{id:"main"}},[a("form",{attrs:{action:""}},[""==e.usTraderEmployeeId?a("div",{staticClass:"input-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.usTeName,expression:"usTeName"}],attrs:{type:"text",placeholder:"姓名"},domProps:{value:e.usTeName},on:{input:function(t){t.target.composing||(e.usTeName=t.target.value)}}})]):e._e(),e._v(" "),""==e.usTraderEmployeeId?a("div",{staticClass:"input-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.usTpName,expression:"usTpName"}],attrs:{type:"text",placeholder:"职位名称"},domProps:{value:e.usTpName},on:{input:function(t){t.target.composing||(e.usTpName=t.target.value)}}})]):e._e(),e._v(" "),""==e.usTraderEmployeeId?a("div",{staticClass:"input-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.phone,expression:"phone"}],attrs:{type:"number",placeholder:"手机号"},domProps:{value:e.phone},on:{input:function(t){t.target.composing||(e.phone=t.target.value)}}})]):e._e(),e._v(" "),""==e.usTraderEmployeeId?a("div",{staticClass:"input-group",staticStyle:{"margin-bottom":".2rem"}},[a("div",{staticClass:"title"},[e._v("\n\t\t\t\t\t性别\n\t\t\t\t")]),e._v(" "),a("label",{attrs:{for:"man"}},[e._v("男")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.usTeSex,expression:"usTeSex"}],attrs:{type:"radio",name:"usTeSex",id:"man",value:"1"},domProps:{checked:e._q(e.usTeSex,"1")},on:{change:function(t){e.usTeSex="1"}}}),e._v(" "),a("label",{attrs:{for:"man"}},[e._v("女")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.usTeSex,expression:"usTeSex"}],attrs:{type:"radio",name:"usTeSex",id:"wman",value:"2"},domProps:{checked:e._q(e.usTeSex,"2")},on:{change:function(t){e.usTeSex="2"}}})]):e._e(),e._v(" "),a("div",{staticClass:"input-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.myusTeCardId,expression:"myusTeCardId"}],attrs:{type:"number",placeholder:"身份证号"},domProps:{value:e.myusTeCardId},on:{input:function(t){t.target.composing||(e.myusTeCardId=t.target.value)}}})]),e._v(" "),a("div",{staticClass:"input-group",on:{click:e.citychange}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.area,expression:"area"}],attrs:{type:"text",placeholder:"请选择员工地址",readonly:"readonly"},domProps:{value:e.area},on:{input:function(t){t.target.composing||(e.area=t.target.value)}}})]),e._v(" "),a("div",{staticClass:"input-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.myusTeDetailed,expression:"myusTeDetailed"}],attrs:{type:"text",placeholder:"详细地址"},domProps:{value:e.myusTeDetailed},on:{input:function(t){t.target.composing||(e.myusTeDetailed=t.target.value)}}})]),e._v(" "),a("input",{attrs:{type:"button",name:"mysubmit",id:"mysubmit",value:"提交"},on:{click:e.gosubmit}})]),e._v(" "),a("transition",{attrs:{name:"fade"}},[a("city-picker",{directives:[{name:"show",rawName:"v-show",value:e.cityboo,expression:"cityboo"}],on:{citychange:e.citychange,alertchange:e.alertchange}})],1),e._v(" "),a("transition",{attrs:{name:"alert"}},[a("alert",{directives:[{name:"show",rawName:"v-show",value:e.alertboo,expression:"alertboo"}],on:{alertchange:e.alertchange,alerttrue:e.alertchange}})],1),e._v(" "),a("transition",{attrs:{name:"bottom"}},[a("div",{directives:[{name:"show",rawName:"v-show",value:e.bottomboo,expression:"bottomboo"}],attrs:{id:"bottomnav"}},[a("div",{staticClass:"nav-box"},e._l(e.bottomdata,function(t,s){return a("div",{staticClass:"nav",class:1==t.choice?"active":"",on:{click:function(t){return e.navclick(s)}}},[e._v("\n\t\t\t\t\t\t"+e._s(t.usTpsName)+"\n\t\t\t\t\t")])}),0),e._v(" "),a("div",{staticClass:"submit",on:{click:e.submit}},[e._v("\n\t\t\t\t\t确定\n\t\t\t\t")])])])],1)],1)},staticRenderFns:[]};var r=function(e){a("0gTd")},i=a("VU/8")(s.a,o,!1,r,"data-v-29e8878f",null);t.default=i.exports}});
//# sourceMappingURL=27.b5a25af8610517284375.js.map