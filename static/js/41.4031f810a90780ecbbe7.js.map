{"version":3,"sources":["webpack:///src/components/addvipcart.vue","webpack:///./src/components/addvipcart.vue?4b1e","webpack:///./src/components/addvipcart.vue"],"names":["__webpack_exports__","name","data","usTmcLimit","myusTmcPrice","myusTmcDiscount","usTmcIsStores","navdata","usTraderStoresId","uploadtarget","files","myusTmcLevelNumber","myusTmcLevel","navdata01","id","boo","mounted","this","usTraderMemberCardId","$store","state","head","usTmcLevel","usTmcPrice","usTmcDiscount","usTmcLevelNumber","mytime","myajax","methods","that","$","ajax","type","url","myurl","dataType","usTraderId","localStorage","getItem","success","res","myajax02","myurl03","i","length","console","log","bottomchange","bottomshow","opennew","target","$router","push","tab","index","submit","eq","val","alert","attr","ajaxJson","usTmcImgUrl","myurl02","status","plus","nativeUI","toast","back","usTmcUpdateName","change","two","handelChange","date","formatDate","time","timeshow","calendarShow","upload","actionSheet","title","cancel","buttons","e","camera","album","getCamera","captureImage","p","io","resolveLocalFileSystemURL","entry","img_path","toLocalURL","document","getElementById","setAttribute","upload_img","message","filename","gallery","pick","path","filter","substr","lastIndexOf","start_upload","wt","showWaiting","task","uploader","createUpload","method","t","responseText","json","eval","close","addData","getUid","f","addFile","key","start","Math","floor","random","toString","computed","components","THead","resolve","__webpack_require__","then","__WEBPACK_AMD_REQUIRE_ARRAY__","apply","bind","catch","oe","components_addvipcart","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","_v","staticStyle","margin-top","directives","rawName","value","expression","on","$event","$$selectedVal","Array","prototype","call","options","o","selected","map","_value","multiple","_l","domProps","_s","usTsCompanyName","placeholder","data-alert","input","composing","_e","click","staticRenderFns","__vue_styles__","ssrContext","Component","normalizeComponent","addvipcart"],"mappings":"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","file":"static/js/41.4031f810a90780ecbbe7.js","sourcesContent":["<template>\r\n\t<div id=\"wrapper\" class=\"addstart\">\r\n\t\t<t-head></t-head>\r\n\t\t<div id=\"main\">\r\n\t\t\t<!--<div class=\"input-box\">\r\n\t\t\t\t<div class=\"title\">是否分配商铺</div>\r\n\t\t\t\t<label for=\"yes\">不分配</label>\r\n\t\t\t\t<input type=\"radio\" name=\"usTmcIsStores\" v-model=\"usTmcIsStores\" id=\"yes\" value=\"0\" />\r\n\t\t\t\t<label for=\"yes\">分配</label>\r\n\t\t\t\t<input type=\"radio\" name=\"usTmcIsStores\" v-model=\"usTmcIsStores\" id=\"no\" value=\"1\" />\r\n\t\t\t</div>-->\r\n\t\t\t<div class=\"input-box\" style=\"margin-top: .2rem;\">\r\n\t\t\t\t<div class=\"title\">选择使用店铺</div>\r\n\t\t\t\t<select name=\"\" v-model=\"usTraderStoresId\" @change=\"myajax02\">\r\n\t\t\t\t\t<option :value=\"val.usTraderStoresId\" v-for=\"val in navdata\">{{val.usTsCompanyName}}</option>\r\n\t\t\t\t</select>\r\n\t\t\t</div>\r\n\t\t\t<block v-if=\"usTraderStoresId!=''\">\r\n\t\t\t\t<input type=\"text\" placeholder=\"会员卡名称\" v-model=\"myusTmcLevel\" data-alert='会员卡名称不能为空'/>\r\n\t\t\t\t<div class=\"input-box\">\r\n\t\t\t\t\t<div class=\"title\">会员卡等级</div>\r\n\t\t\t\t\t<select name=\"\" v-model=\"myusTmcLevelNumber\" >\r\n\t\t\t\t\t\t<option :value=\"val.id\" v-for=\"val in navdata01\" v-if=\"val.boo\">{{val.id}}</option>\r\n\t\t\t\t\t</select>\r\n\t\t\t\t</div>\r\n\t\t\t\t<input type=\"number\" placeholder=\"会员卡有效期（日）\" v-model=\"usTmcLimit\"  data-alert='会员卡期限不能为空'/>\r\n\t\t\t\t<input type=\"number\" placeholder=\"会员卡金额\" v-model=\"myusTmcPrice\"  data-alert='会员卡金额不能为空'/>\r\n\t\t\t\t<input type=\"number\" placeholder=\"会员卡折扣（百分比）\" v-model=\"myusTmcDiscount\"  data-alert='会员卡折扣不能为空'/>\r\n\t\t\t</block>\r\n\t\t\t<div class=\"submit\" @click=\"submit\">\r\n\t\t\t\t确定\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n<script>\r\n\texport default {\r\n\t\tname: 'addstart',\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tusTmcLimit: '',\r\n\t\t\t\tmyusTmcPrice: '',\r\n\t\t\t\tmyusTmcDiscount: '',\r\n\t\t\t\tusTmcIsStores: 1,\r\n\t\t\t\tnavdata: '',\r\n\t\t\t\tusTraderStoresId: '',\r\n\t\t\t\tuploadtarget: '',\r\n\t\t\t\tfiles: '',\r\n\t\t\t\tmyusTmcLevelNumber: '',\r\n\t\t\t\tmyusTmcLevel: '',\r\n\t\t\t\tnavdata01:[\r\n\t\t\t\t\t{id:0,boo:true},\r\n\t\t\t\t\t{id:1,boo:true},\r\n\t\t\t\t\t{id:2,boo:true},\r\n\t\t\t\t\t{id:3,boo:true},\r\n\t\t\t\t\t{id:4,boo:true},\r\n\t\t\t\t\t{id:5,boo:true},\r\n\t\t\t\t\t{id:6,boo:true},\r\n\t\t\t\t\t{id:7,boo:true},\r\n\t\t\t\t\t{id:8,boo:true},\r\n\t\t\t\t\t{id:9,boo:true},\r\n\t\t\t\t]\r\n\t\t\t}\r\n\t\t},\r\n\t\tmounted() {\r\n\t\t\tif(this.usTraderMemberCardId == '') {\r\n\t\t\t\tthis.$store.state.head = '添加会员卡'\r\n\t\t\t} else {\r\n\t\t\t\tthis.$store.state.head = '编辑会员卡'\r\n\t\t\t\tthis.myusTmcLevel=this.usTmcLevel\r\n\t\t\t\tthis.myusTmcPrice=this.usTmcPrice\r\n\t\t\t\tthis.myusTmcDiscount=this.usTmcDiscount\r\n\t\t\t\tthis.myusTmcLevelNumber=this.usTmcLevelNumber\r\n\t\t\t\tthis.usTmcLimit=this.$store.state.mytime\r\n\t\t\t}\r\n\t\t\tthis.myajax()\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tmyajax: function() {\r\n\t\t\t\tvar that = this\r\n//\t\t\t\t获取所有店铺\r\n\t\t\t\t$.ajax({\r\n\t\t\t\t\ttype: \"post\",\r\n\t\t\t\t\turl: that.myurl + \"/selectUsTraderStores\",\r\n\t\t\t\t\tdataType: 'json',\r\n\t\t\t\t\tdata: {\r\n\t\t\t\t\t\tusTraderId: localStorage.getItem('userid')\r\n\t\t\t\t\t},\r\n\t\t\t\t\tsuccess: function(res) {\r\n\t\t\t\t\t\tthat.navdata = res.data\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tmyajax02:function(){\r\n\t\t\t\tvar that = this\r\n\t\t\t\t//\t\t\t\t获取所有等级\r\n\t\t\t\t$.ajax({\r\n\t\t\t\t\ttype: \"post\",\r\n\t\t\t\t\turl: that.myurl03 + \"/user/selectTraderCardLevel\",\r\n\t\t\t\t\tdataType: 'json',\r\n\t\t\t\t\tdata: {\r\n\t\t\t\t\t\tusTraderStoresId: that.usTraderStoresId\r\n\t\t\t\t\t},\r\n\t\t\t\t\tsuccess: function(res) {\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tfor (var i = 0; i <res.data.length; i++) {\r\n\t\t\t\t\t\t\tconsole.log(res.data[i].usTmcLevelNumber)\n\t\t\t\t\t\t\tthat.navdata01[res.data[i].usTmcLevelNumber].boo=false\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tbottomchange: function(id) {\r\n\t\t\t\tthis.bottomshow = !this.bottomshow\r\n\t\t\t},\r\n\t\t\topennew: function(target) {\r\n\t\t\t\tthis.$router.push({\r\n\t\t\t\t\tname: target\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\ttab: function(index) {\r\n\t\t\t\tthis.index = index\r\n\t\t\t},\r\n\t\t\tsubmit: function() {\r\n\t\t\t\tvar that = this\r\n\t\t\t\tfor(var i=0;i<$('input').length;i++){\r\n\t\t\t\t\tif($('input').eq(i).val()==''){\r\n\t\t\t\t\t\talert($('input').eq(i).attr('data-alert'))\r\n\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tif(this.usTraderMemberCardId==''){\r\n\t\t\t\t\tvar ajaxJson = {\r\n\t\t\t\t\t\tusTraderId: localStorage.getItem('userid'),\r\n\t\t\t\t\t\tusTmcIsStores: that.usTmcIsStores,\r\n\t\t\t\t\t\tusTraderStoresId: that.usTraderStoresId,\r\n\t\t\t\t\t\tusTmcLevel: that.myusTmcLevel,\r\n\t\t\t\t\t\tusTmcLevelNumber: that.myusTmcLevelNumber,\r\n\t\t\t\t\t\tusTmcLimit: that.usTmcLimit,\r\n\t\t\t\t\t\tusTmcPrice: that.myusTmcPrice,\r\n\t\t\t\t\t\tusTmcDiscount: that.myusTmcDiscount,\r\n\t\t\t\t\t\tusTmcImgUrl: that.usTmcImgUrl\r\n\t\t\t\t\t}\r\n\t\t\t\t\t$.ajax({\r\n\t\t\t\t\t\ttype: \"post\",\r\n\t\t\t\t\t\turl: that.myurl02 + \"/insertUsTraderMemberCard\",\r\n\t\t\t\t\t\tdataType: 'json',\r\n\t\t\t\t\t\tdata: ajaxJson,\r\n\t\t\t\t\t\tsuccess: function(res) {\r\n\t\t\t\t\t\t\tconsole.log(res)\r\n\t\t\t\t\t\t\tif(res.status==200){\r\n\t\t\t\t\t\t\t\tplus.nativeUI.toast('添加完成')\r\n\t\t\t\t\t\t\t\tthat.$router.back()\r\n\t\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\t\tplus.nativeUI.toast('添加失败')\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t}else{\r\n\t\t\t\t\tvar ajaxJson = {\r\n\t\t\t\t\t\tusTraderMemberCardId: that.usTraderMemberCardId,\r\n\t\t\t\t\t\tusTmcUpdateName: localStorage.getItem('username'),\r\n\t\t\t\t\t\tusTmcLevel: that.myusTmcLevel,\r\n\t\t\t\t\t\tusTmcLevelNumber: that.myusTmcLevelNumber,\r\n\t\t\t\t\t\tusTmcLimit: that.usTmcLimit,\r\n\t\t\t\t\t\tusTmcPrice: that.myusTmcPrice,\r\n\t\t\t\t\t\tusTmcDiscount: that.myusTmcDiscount,\r\n\t\t\t\t\t\tusTmcImgUrl: that.usTmcImgUrl\r\n\t\t\t\t\t}\r\n\t\t\t\t\t$.ajax({\r\n\t\t\t\t\t\ttype: \"post\",\r\n\t\t\t\t\t\turl: that.myurl02 + \"/updateUsTraderMemberCard\",\r\n\t\t\t\t\t\tdataType: 'json',\r\n\t\t\t\t\t\tdata: ajaxJson,\r\n\t\t\t\t\t\tsuccess: function(res) {\r\n\t\t\t\t\t\t\tif(res.data==1){\r\n\t\t\t\t\t\t\t\tplus.nativeUI.toast('修改完成')\r\n\t\t\t\t\t\t\t\tthat.$router.back()\r\n\t\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\t\tplus.nativeUI.toast('修改失败')\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t},\r\n\t\t\tchange: function(id) {\r\n\t\t\t\tthis.two = id\r\n\t\t\t},\r\n\t\t\thandelChange: function(date, formatDate) {\r\n\t\t\t\tthis.time = formatDate\r\n\t\t\t},\r\n\t\t\ttimeshow: function() {\r\n\t\t\t\tthis.calendarShow = !this.calendarShow\r\n\t\t\t},\r\n\t\t\tupload: function(target) {\r\n\t\t\t\tvar that = this\r\n\t\t\t\tthat.files = []\r\n\t\t\t\tthat.uploadtarget = target\r\n\t\t\t\tvar btnArray = [{\r\n\t\t\t\t\ttitle: \"照相机\"\r\n\t\t\t\t}, {\r\n\t\t\t\t\ttitle: \"相册\"\r\n\t\t\t\t}]; //选择按钮  1 2 3\r\n\t\t\t\tplus.nativeUI.actionSheet({\r\n\t\t\t\t\ttitle: \"请选择\",\r\n\t\t\t\t\tcancel: \"取消\",\r\n\t\t\t\t\tbuttons: btnArray\r\n\t\t\t\t}, function(e) {\r\n\t\t\t\t\tvar index = e.index;\r\n\t\t\t\t\tswitch(index) {\r\n\t\t\t\t\t\tcase 1:\r\n\t\t\t\t\t\t\tthat.camera();\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tcase 2:\r\n\t\t\t\t\t\t\tthat.album();\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tcamera: function() {\r\n\t\t\t\tvar that = this\r\n\t\t\t\tvar cmr = plus.camera.getCamera();\r\n\t\t\t\tcmr.captureImage(function(p) {\r\n\t\t\t\t\t//成功\r\n\t\t\t\t\tplus.io.resolveLocalFileSystemURL(p, function(entry) {\r\n\t\t\t\t\t\tvar img_name = entry.name;\r\n\t\t\t\t\t\tvar img_path = entry.toLocalURL();\r\n\t\t\t\t\t\tdocument.getElementById(that.uploadtarget).setAttribute('src', img_path)\r\n\t\t\t\t\t\tthat.upload_img(img_path);\r\n\t\t\t\t\t}, function(e) {\r\n\t\t\t\t\t\talert(\"读取拍照文件错误：\" + e.message);\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t}, function(e) {\r\n\t\t\t\t\talert(\"失败：\" + e.message);\r\n\t\t\t\t}, {\r\n\t\t\t\t\tfilename: '_doc/camera/',\r\n\t\t\t\t\tindex: 1\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\talbum: function() {\r\n\t\t\t\tvar that = this\r\n\t\t\t\tplus.gallery.pick(function(path) {\r\n\t\t\t\t\tdocument.getElementById(that.uploadtarget).setAttribute('src', path)\r\n\t\t\t\t\tthat.upload_img(path);\r\n\t\t\t\t}, function(e) {\r\n\t\t\t\t\talert(\"取消选择图片\");\r\n\t\t\t\t}, {\r\n\t\t\t\t\tfilter: \"image\"\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tupload_img: function(p) {\r\n\t\t\t\tvar that = this\r\n\t\t\t\tvar n = p.substr(p.lastIndexOf('/') + 1);\r\n\t\t\t\tthat.files.push({\r\n\t\t\t\t\tname: \"uploadkey\",\r\n\t\t\t\t\tpath: p\r\n\t\t\t\t});\r\n\t\t\t\t//开始上传\r\n\t\t\t\tthat.start_upload();\r\n\t\t\t},\r\n\t\t\tstart_upload: function() {\r\n\t\t\t\tvar that = this\r\n\t\t\t\tif(that.files.length <= 0) {\r\n\t\t\t\t\tplus.nativeUI.alert(\"没有添加上传文件！\");\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\t//原生的转圈等待框\r\n\t\t\t\tvar wt = plus.nativeUI.showWaiting();\r\n\t\t\t\tvar task = plus.uploader.createUpload(that.myurl + '/imageRiderImageUsTraderStores', {\r\n\t\t\t\t\t\tmethod: \"POST\"\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfunction(t, status) { //上传完成\r\n\t\t\t\t\t\tif(status == 200) {\r\n\t\t\t\t\t\t\t//资源\r\n\t\t\t\t\t\t\tvar responseText = t.responseText;\r\n\t\t\t\t\t\t\t//转换成json\r\n\t\t\t\t\t\t\tvar json = eval('(' + responseText + ')');\r\n\t\t\t\t\t\t\t//上传文件的信息\r\n\t\t\t\t\t\t\tthat.usTmcImgUrl = json.data\r\n\t\t\t\t\t\t\twt.close();\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\talert(\"上传失败：\" + status);\r\n\t\t\t\t\t\t\t//关闭原生的转圈等待框\r\n\t\t\t\t\t\t\twt.close();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\ttask.addData(\"uid\", that.getUid());\r\n\t\t\t\tfor(var i = 0; i < that.files.length; i++) {\r\n\t\t\t\t\tvar f = that.files[i];\r\n\t\t\t\t\ttask.addFile(f.path, {\r\n\t\t\t\t\t\tkey: f.name\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t\ttask.start();\r\n\t\t\t},\r\n\t\t\tgetUid: function() {\r\n\t\t\t\treturn Math.floor(Math.random() * 100000000 + 10000000).toString();\r\n\t\t\t}\r\n\t\t},\r\n\t\tcomputed: {\r\n\t\t\tmyurl() {\r\n\t\t\t\treturn this.$store.state.myurl\r\n\t\t\t},\r\n\t\t\tmyurl02() {\r\n\t\t\t\treturn this.$store.state.myurl02\r\n\t\t\t},\r\n\t\t\tmyurl03() {\r\n\t\t\t\treturn this.$store.state.myurl03\r\n\t\t\t},\r\n\t\t\tusTraderMemberCardId() {\r\n\t\t\t\treturn this.$store.state.usTraderMemberCardId\r\n\t\t\t},\r\n\t\t\tusTmcLevel() {\r\n\t\t\t\treturn this.$store.state.usTmcLevel\r\n\t\t\t},\r\n\t\t\tusTmcPrice() {\r\n\t\t\t\treturn this.$store.state.usTmcPrice\r\n\t\t\t},\r\n\t\t\tusTmcDiscount() {\r\n\t\t\t\treturn this.$store.state.usTmcDiscount\r\n\t\t\t},\r\n\t\t\tusTmcLevelNumber() {\r\n\t\t\t\treturn this.$store.state.usTmcLevelNumber\r\n\t\t\t}\r\n\t\t},\r\n\t\tcomponents: {\r\n\t\t\tTHead: resolve => require(['./head'], resolve)\r\n\t\t}\r\n\t}\r\n</script>\r\n<style type=\"text/css\" lang=\"scss\">\r\n\t.addstart {\r\n\t\t.title {\r\n\t\t\tflex: 1;\r\n\t\t}\r\n\t\tselect {\r\n\t\t\tflex: 1;\r\n\t\t\theight: 100%;\r\n\t\t\tborder: 0;\r\n\t\t\tbackground: none;\r\n\t\t}\r\n\t\tinput {\r\n\t\t\twidth: calc(100% - .4rem);\r\n\t\t\tmargin: 0 auto;\r\n\t\t\tborder: 0;\r\n\t\t\tbackground: white;\r\n\t\t\tdisplay: block;\r\n\t\t\theight: 1rem;\r\n\t\t\ttext-indent: .15rem;\r\n\t\t\tborder-bottom: 1px solid ghostwhite;\r\n\t\t}\r\n\t\tinput[type=radio] {\r\n\t\t\tdisplay: inline-block;\r\n\t\t\tvertical-align: middle;\r\n\t\t\twidth: .4rem;\r\n\t\t\theight: .4rem!important;\r\n\t\t\t-webkit-appearance: none;\r\n\t\t\tbackground-color: transparent;\r\n\t\t\tborder: 0;\r\n\t\t\toutline: 0 !important;\r\n\t\t\tcolor: #d8d8d8;\r\n\t\t\tline-height: .4rem;\r\n\t\t\tmargin: 0 .1rem!important;\r\n\t\t\ttext-indent: 0;\r\n\t\t}\r\n\t\tinput[type=file] {\r\n\t\t\topacity: 0;\r\n\t\t}\r\n\t\tinput[type=radio]:after {\r\n\t\t\tcontent: \"✓\";\r\n\t\t\tdisplay: block;\r\n\t\t\twidth: .4rem;\r\n\t\t\theight: .4rem;\r\n\t\t\tborder-radius: 50%;\r\n\t\t\ttext-align: center;\r\n\t\t\tline-height: .4rem;\r\n\t\t\tcolor: #fff;\r\n\t\t\tborder: 1px solid #ddd;\r\n\t\t\tbackground-color: #fff;\r\n\t\t\tbox-sizing: border-box;\r\n\t\t}\r\n\t\tinput[type=radio]:checked:after {\r\n\t\t\tborder-color: #FF8190;\r\n\t\t\tbackground-color: #FF8190;\r\n\t\t}\r\n\t\t.input-box {\r\n\t\t\t@extend input;\r\n\t\t\tdisplay: flex;\r\n\t\t\talign-items: center;\r\n\t\t\tjustify-content: space-around;\r\n\t\t\t.group {\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\talign-items: center;\r\n\t\t\t\tjustify-content: center;\r\n\t\t\t}\r\n\t\t\t.circle {\r\n\t\t\t\twidth: .3rem;\r\n\t\t\t\theight: .3rem;\r\n\t\t\t\tborder-radius: 50%;\r\n\t\t\t\tborder: 1px solid gainsboro;\r\n\t\t\t}\r\n\t\t\t.active {\r\n\t\t\t\tborder: .1rem solid #FF8190;\r\n\t\t\t\tbox-sizing: border-box;\r\n\t\t\t}\r\n\t\t}\r\n\t\t.box {\r\n\t\t\twidth: calc(100% - .4rem);\r\n\t\t\tborder: 0;\r\n\t\t\tbackground: white;\r\n\t\t\theight: calc(100% - 6rem);\r\n\t\t\tmargin: 0 auto;\r\n\t\t\tborder-radius: .1rem;\r\n\t\t\toverflow-y: scroll;\r\n\t\t\toverflow-x: hidden;\r\n\t\t\t.group {\r\n\t\t\t\twidth: 100%;\r\n\t\t\t\theight: .8rem;\r\n\t\t\t\tborder-bottom: 1px solid #EFEFF0;\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\talign-items: center;\r\n\t\t\t\tjustify-content: center;\r\n\t\t\t}\r\n\t\t\t.active {\r\n\t\t\t\tbackground: #FF8190;\r\n\t\t\t\tcolor: white;\r\n\t\t\t}\r\n\t\t}\r\n\t\t.submit {\r\n\t\t\twidth: calc(100% - .4rem);\r\n\t\t\tborder: 0;\r\n\t\t\tbackground:#FF8190;\r\n\t\t\tcolor: white;\r\n\t\t\tborder-radius: .1rem;\r\n\t\t\theight: .8rem;\r\n\t\t\tdisplay: flex;\r\n\t\t\talign-items: center;\r\n\t\t\tjustify-content: center;\r\n\t\t\tposition: absolute;\r\n\t\t\tbottom: .2rem;\r\n\t\t\tleft: .2rem;\r\n\t\t}\r\n\t}\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/components/addvipcart.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"addstart\",attrs:{\"id\":\"wrapper\"}},[_c('t-head'),_vm._v(\" \"),_c('div',{attrs:{\"id\":\"main\"}},[_c('div',{staticClass:\"input-box\",staticStyle:{\"margin-top\":\".2rem\"}},[_c('div',{staticClass:\"title\"},[_vm._v(\"选择使用店铺\")]),_vm._v(\" \"),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.usTraderStoresId),expression:\"usTraderStoresId\"}],attrs:{\"name\":\"\"},on:{\"change\":[function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.usTraderStoresId=$event.target.multiple ? $$selectedVal : $$selectedVal[0]},_vm.myajax02]}},_vm._l((_vm.navdata),function(val){return _c('option',{domProps:{\"value\":val.usTraderStoresId}},[_vm._v(_vm._s(val.usTsCompanyName))])}),0)]),_vm._v(\" \"),(_vm.usTraderStoresId!='')?_c('block',[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.myusTmcLevel),expression:\"myusTmcLevel\"}],attrs:{\"type\":\"text\",\"placeholder\":\"会员卡名称\",\"data-alert\":\"会员卡名称不能为空\"},domProps:{\"value\":(_vm.myusTmcLevel)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.myusTmcLevel=$event.target.value}}}),_vm._v(\" \"),_c('div',{staticClass:\"input-box\"},[_c('div',{staticClass:\"title\"},[_vm._v(\"会员卡等级\")]),_vm._v(\" \"),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.myusTmcLevelNumber),expression:\"myusTmcLevelNumber\"}],attrs:{\"name\":\"\"},on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.myusTmcLevelNumber=$event.target.multiple ? $$selectedVal : $$selectedVal[0]}}},_vm._l((_vm.navdata01),function(val){return (val.boo)?_c('option',{domProps:{\"value\":val.id}},[_vm._v(_vm._s(val.id))]):_vm._e()}),0)]),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.usTmcLimit),expression:\"usTmcLimit\"}],attrs:{\"type\":\"number\",\"placeholder\":\"会员卡有效期（日）\",\"data-alert\":\"会员卡期限不能为空\"},domProps:{\"value\":(_vm.usTmcLimit)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.usTmcLimit=$event.target.value}}}),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.myusTmcPrice),expression:\"myusTmcPrice\"}],attrs:{\"type\":\"number\",\"placeholder\":\"会员卡金额\",\"data-alert\":\"会员卡金额不能为空\"},domProps:{\"value\":(_vm.myusTmcPrice)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.myusTmcPrice=$event.target.value}}}),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.myusTmcDiscount),expression:\"myusTmcDiscount\"}],attrs:{\"type\":\"number\",\"placeholder\":\"会员卡折扣（百分比）\",\"data-alert\":\"会员卡折扣不能为空\"},domProps:{\"value\":(_vm.myusTmcDiscount)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.myusTmcDiscount=$event.target.value}}})]):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"submit\",on:{\"click\":_vm.submit}},[_vm._v(\"\\n\\t\\t\\t确定\\n\\t\\t\")])],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-7de62d9d\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/addvipcart.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-7de62d9d\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./addvipcart.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./addvipcart.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./addvipcart.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-7de62d9d\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./addvipcart.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/addvipcart.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}