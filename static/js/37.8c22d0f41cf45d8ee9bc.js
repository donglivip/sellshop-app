webpackJsonp([37],{GuuN:function(t,a){},"N/N3":function(t,a,s){"use strict";(function(t){var e=s("mvHQ"),n=s.n(e);a.a={name:"shop",data:function(){return{payboo:!1,alertshow:!1,mydata:[],maAdStatus:"",index:0,mydata01:[],mydata02:[],mydata03:[],time:"点击选择到期时间",usTraderStoresId:"",navdata:"",maAdvertisingId:"",usTaPayPrice:""}},mounted:function(){this.$store.state.head="广告管理",this.myajax()},methods:{changestate02:function(a,s,e){function n(){plus.nativeUI.showWaiting()}var i;window.plus?n():document.addEventListener("plusready",n,!1),i=0==s?1:1==s?0:4;var r=this;t.ajax({type:"post",url:r.myurl+"/updateUsTraderElectRelease",dataType:"json",data:{usTaderElectReleaseId:a,usTerStatus:i},success:function(t){function a(){plus.nativeUI.closeWaiting()}window.plus?a():document.addEventListener("plusready",a,!1),1==t.data?r.myajax():0==t.data?plus.nativeUI.toast("失败"):plus.nativeUI.toast("余额不足,请充值")}})},haveadver:function(a,s,e){var n=this,i={usTraderElectReleaseId:a,usTraderStoresId:localStorage.getItem("userid"),usTrName:localStorage.getItem("username")};t.ajax({type:"post",url:n.myurl+"/insertUsTraderElectReceive",dataType:"json",data:i,success:function(t){1==t.data?n.mydata03.splice(e,1):plus.nativeUI.toast("添加失败")}})},changestate:function(a,s,e){function n(){plus.nativeUI.showWaiting()}var i;window.plus?n():document.addEventListener("plusready",n,!1),i=0==s?1:1==s?0:4;var r=this;t.ajax({type:"post",url:r.myurl+"/updateUsTraderAdvertising",dataType:"json",data:{usTraderAdvertisingId:a,usTaStatus:i},success:function(t){function a(){plus.nativeUI.closeWaiting()}window.plus?a():document.addEventListener("plusready",a,!1),1==t.data?4!=i?r.mydata01[e].usTaStatus=i:r.mydata01.splice(e,1):0==t.data?plus.nativeUI.toast("失败"):plus.nativeUI.toast("余额不足,请充值")}})},gopay:function(){var a=this;if(""==a.usTraderStoresId)return plus.nativeUI.closeWaiting(),!1;function s(){plus.nativeUI.showWaiting()}window.plus?s():document.addEventListener("plusready",s,!1),t.ajax({type:"post",url:a.myurl+"/getUsTraderById",data:{usTraderId:localStorage.getItem("userid")},success:function(s){if(200==s.status)if(null!=s.data.usTrCardId){var e={usTraderId:localStorage.getItem("userid"),maAdvertisingId:a.maAdvertisingId,usTraderStoresId:a.usTraderStoresId,usTaStatus:1};t.ajax({type:"post",url:a.myurl+"/flagBuyAd",dataType:"json",data:{storesId:a.usTraderStoresId,adId:a.maAdvertisingId},success:function(s){200==s.status?t.ajax({type:"post",url:a.myurl+"/insertUsTraderAdvertising",dataType:"json",data:e,success:function(t){function s(){plus.nativeUI.closeWaiting()}window.plus?s():document.addEventListener("plusready",s,!1),1==t.data?(a.myajax(),a.payboo=!1,plus.nativeUI.toast("购买完成")):-1==t.data?alert("钱包余额不足，请充值"):alert("购买失败")},error:function(t){console.log(n()(t))}}):alert(s.msg)},error:function(t){console.log(n()(t))}})}else alert("商家未认证，无法购买广告。"),plus.nativeUI.closeWaiting();else alert(s.msg)},error:function(t){alert("网络连接失败，请检查网络后再试！")}})},timechange:function(){var t=this;plus.nativeUI.pickDate(function(a){var s=a.date;t.time=s.getFullYear()+"/"+(s.getMonth()+1)+"/"+s.getDate()},function(t){console.log("未选择日期："+t.message)})},payshow:function(){this.payboo=!this.payboo},pay:function(t){this.payshow(),this.maAdvertisingId=t},change:function(t){this.index=t},opennew:function(t){this.$router.push({name:t})},godelete:function(){this.$store.state.alerttext="是否删除广告",this.alertboo()},alertboo:function(){this.alertshow=!this.alertshow},alerttrue:function(){this.alertboo()},myajax:function(){function a(){plus.nativeUI.showWaiting()}window.plus?a():document.addEventListener("plusready",a,!1);var s=this;function a(){plus.nativeUI.closeWaiting()}t.ajax({type:"post",url:s.myurl+"/selectUsTraderStores",dataType:"json",data:{usTraderId:localStorage.getItem("userid")},success:function(t){s.navdata=t.data}}),t.ajax({type:"post",url:s.myurl+"/selectMaAdvertising",dataType:"json",success:function(t){s.mydata=t.data}}),t.ajax({type:"post",url:s.myurl+"/selectMaAdvertisingMaAdvertisingPositionPojo",dataType:"json",data:{usTraderId:localStorage.getItem("userid")},success:function(t){s.mydata01=t.data}}),t.ajax({type:"post",url:s.myurl+"/selectUsTraderElectReleaseMaStorePushStylePojo",dataType:"json",data:{usTraderId:localStorage.getItem("userid")},success:function(t){s.mydata02=t.data}}),t.ajax({type:"post",url:s.myurl+"/selectUsTraderElectReceive",dataType:"json",data:{usTraderId:localStorage.getItem("userid")},success:function(t){s.mydata03=t.data}}),window.plus?a():document.addEventListener("plusready",a,!1)}},computed:{myurl:function(){return this.$store.state.myurl}},components:{THead:function(t){return s.e(54).then(function(){var a=[s("2Hch")];t.apply(null,a)}.bind(this)).catch(s.oe)},alert:function(t){return s.e(55).then(function(){var a=[s("fSq5")];t.apply(null,a)}.bind(this)).catch(s.oe)}},filters:{state:function(t){switch(t){case 1:return"全国";case 2:return"全省";case 3:return"全市";case 4:return"区域";default:return"未知范围"}}}}}).call(a,s("7t+N"))},Zhyj:function(t,a,s){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var e=s("N/N3"),n={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"shop",attrs:{id:"wrapper"}},[e("t-head"),t._v(" "),e("div",{attrs:{id:"main"}},[e("div",{staticClass:"top-nav"},[e("div",{staticClass:"item",class:0==t.index?"active":"",on:{click:function(a){return t.change(0)}}},[t._v("\n\t\t\t\t\t所有平台广告\n\t\t\t\t")]),t._v(" "),e("div",{staticClass:"item",class:1==t.index?"active":"",on:{click:function(a){return t.change(1)}}},[t._v("\n\t\t\t\t\t我的平台广告\n\t\t\t\t")])]),t._v(" "),0==t.index?e("div",{staticClass:"main-inner"},t._l(t.mydata,function(a){return e("div",{staticClass:"group"},[e("div",{staticClass:"shop-name"},[e("img",{staticClass:"avatar",attrs:{src:s("2KYf")}}),t._v(" "),e("div",{staticClass:"name"},[t._v("\n\t\t\t\t\t\t\t"+t._s(1==a.maAdUserStyle?"管理员":"代理商")+"广告\n\t\t\t\t\t\t")]),t._v(" "),e("div",{staticClass:"state"})]),t._v(" "),e("div",{staticClass:"inform"},[e("div",{staticClass:"title"},[t._v("\n\t\t\t\t\t\t\t投放范围:\n\t\t\t\t\t\t")]),t._v(" "),e("div",{staticClass:"text"},[t._v("\n\t\t\t\t\t\t\t"+t._s(t._f("state")(a.maAdStyle))+"\n\t\t\t\t\t\t")])]),t._v(" "),e("div",{staticClass:"inform"},[e("div",{staticClass:"title"},[t._v("\n          \t\t广告价格:\n          \t")]),t._v(" "),e("div",{staticClass:"text"},[t._v("\n          \t\t¥"+t._s(a.maAdStartPrice)+"\n          \t")])]),t._v(" "),e("div",{staticClass:"inform"},[e("div",{staticClass:"title"},[t._v("\n\t\t\t\t\t\t\t展示地址:\n\t\t\t\t\t\t")]),t._v(" "),e("div",{staticClass:"text"},[t._v("\n\t\t\t\t\t\t\t"+t._s(a.maApName)+"\n\t\t\t\t\t\t")])]),t._v(" "),e("div",{staticClass:"shop-setting"},[e("div",{staticClass:"time"},[e("span",{staticClass:"title"},[t._v("有效期:")]),t._v("\t"+t._s(a.maAdLimitStatus)+"/月\n\t\t\t\t\t\t")]),t._v(" "),e("div",{staticClass:"delete",on:{click:function(s){return t.pay(a.maAdvertisingId)}}},[t._v("\n\t\t\t\t\t\t\t购买\n\t\t\t\t\t\t")])])])}),0):t._e(),t._v(" "),1==t.index?e("div",{staticClass:"main-inner"},t._l(t.mydata01,function(a,n){return e("div",{staticClass:"group",class:0==a.usTaPayPrice?"nomoney":""},[e("div",{staticClass:"shop-name"},[e("img",{staticClass:"avatar",attrs:{src:s("2KYf")}}),t._v(" "),e("div",{staticClass:"name"},[t._v("\n\t\t\t\t\t\t\t"+t._s(a.usTsCompanyName)+"\n\t\t\t\t\t\t")]),t._v(" "),e("div",{staticClass:"state"})]),t._v(" "),e("div",{staticClass:"inform"},[e("div",{staticClass:"title"},[t._v("\n\t\t\t\t\t\t\t投放范围:\n\t\t\t\t\t\t")]),t._v(" "),e("div",{staticClass:"text"},[t._v("\n\t\t\t\t\t\t\t"+t._s(t._f("state")(a.maAdStyle))+"\n\t\t\t\t\t\t")])]),t._v(" "),e("div",{staticClass:"inform"},[e("div",{staticClass:"title"},[t._v("\n\t\t\t\t\t\t\t展示地址:\n\t\t\t\t\t\t")]),t._v(" "),e("div",{staticClass:"text"},[t._v("\n\t\t\t\t\t\t\t"+t._s(a.maApName)+"\n\t\t\t\t\t\t")])]),t._v(" "),e("div",{staticClass:"shop-setting"},[e("div",{staticClass:"time",staticStyle:{"text-indent":".2rem"}},[t._v("\n\t\t\t\t\t\t\t有效期:"+t._s(a.maAdLimitStatus)+"/月\n\t\t\t\t\t\t")]),t._v(" "),0!=a.usTaPayPrice?e("div",{staticClass:"delete",on:{click:function(s){return t.changestate(a.usTraderAdvertisingId,a.usTaStatus,n)}}},[t._v("\n\t\t\t\t\t\t\t"+t._s(0==a.usTaStatus?"已下架":"已上架")+"\n\t\t\t\t\t\t")]):t._e(),t._v(" "),e("div",{staticClass:"delete",on:{click:function(s){return t.changestate(a.usTraderAdvertisingId,4,n)}}},[t._v("\n\t\t\t\t\t\t\t删除\n\t\t\t\t\t\t")])])])}),0):t._e(),t._v(" "),e("transition",{attrs:{name:"alert"}},[t.payboo?e("div",{attrs:{id:"alert"}},[e("div",{attrs:{id:"alert-main"}},[e("h1",[t._v("购买广告")]),t._v(" "),e("select",{directives:[{name:"model",rawName:"v-model",value:t.usTraderStoresId,expression:"usTraderStoresId"}],attrs:{name:""},on:{change:function(a){var s=Array.prototype.filter.call(a.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.usTraderStoresId=a.target.multiple?s:s[0]}}},t._l(t.navdata,function(a){return e("option",{domProps:{value:a.usTraderStoresId}},[t._v(t._s(a.usTsCompanyName))])}),0),t._v(" "),e("div",{attrs:{id:"alert-setting"}},[e("span",{on:{click:t.gopay}},[t._v("购买")]),t._v(" "),e("span",{on:{click:t.payshow}},[t._v("取消")])])])]):t._e()])],1)],1)},staticRenderFns:[]};var i=function(t){s("GuuN")},r=s("VU/8")(e.a,n,!1,i,null,null);a.default=r.exports}});
//# sourceMappingURL=37.8c22d0f41cf45d8ee9bc.js.map