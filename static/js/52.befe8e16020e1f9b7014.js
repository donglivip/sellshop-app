webpackJsonp([52],{M8MW:function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=o("mvHQ"),n=o.n(s),c={name:"Bluetooth",data:function(){return{bluedata:[],bid:""}},mounted:function(){this.$store.state.head="设置打印机",this.bid=localStorage.getItem("bid"),window.plus?this.startBluetoothDiscovery():document.addEventListener("plusready",this.startBluetoothDiscovery(),!1)},methods:{changeblue:function(t){localStorage.setItem("bid",t),this.bid=t,plus.nativeUI.toast("默认打印机已修改！")},opennew:function(t){this.$router.push({name:t})},startBluetoothDiscovery:function(){plus.nativeUI.toast("搜索蓝牙中");var t=this;plus.bluetooth.openBluetoothAdapter({success:function(e){plus.bluetooth.startBluetoothDevicesDiscovery({success:function(e){setInterval(function(){t.getBluetoothDevices()},1e3)},fail:function(t){alert("打开蓝牙失败，请检查后重试！")}})},fail:function(t){alert("打开蓝牙失败，请检查后重试！")}})},getBluetoothDevices:function(){var t=this;plus.bluetooth.getBluetoothDevices({success:function(e){t.bluedata=e.devices},fail:function(t){console.log("get devices failed: "+n()(t))}})},stopBluetoothDiscovery:function(){plus.bluetooth.stopBluetoothDevicesDiscovery({success:function(t){plus.bluetooth.closeBluetoothAdapter({success:function(t){console.log("close success: "+n()(t))},fail:function(t){console.log("close failed: "+n()(t))}})},fail:function(t){console.log("stop discovery failed: "+n()(t))}})}},computed:{},components:{THead:function(t){return o.e(55).then(function(){var e=[o("2Hch")];t.apply(null,e)}.bind(this)).catch(o.oe)}}},i={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"Bluetooth",attrs:{id:"wrapper"}},[o("t-head"),t._v(" "),o("div",{attrs:{id:"main"}},t._l(t.bluedata,function(e){return""!=e.localName?o("div",{staticClass:"bluelist",class:t.bid==e.deviceId?"active":"",on:{click:function(o){return t.changeblue(e.deviceId)}}},[t._v("\n\t\t\t"+t._s(e.localName)+"\n\t\t")]):t._e()}),0)],1)},staticRenderFns:[]};var u=o("VU/8")(c,i,!1,function(t){o("gp3x")},null,null);e.default=u.exports},gp3x:function(t,e){}});
//# sourceMappingURL=52.befe8e16020e1f9b7014.js.map