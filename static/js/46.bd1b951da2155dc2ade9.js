webpackJsonp([46],{"+qRF":function(t,e,s){"use strict";(function(t){e.a={name:"addstart",data:function(){return{index:0,two:!1,calendarShow:!1,time:"",bottomshow:!1,navdata:"",myusTraderStoresId:"",myusTpLimitNum:"",usTpIsStores:"",myusTpPrice:"",myusTpLimitPrice:""}},mounted:function(){""==this.usTpLimitNum?this.$store.state.head="添加红包":(this.$store.state.head="编辑红包",this.myusTpPrice=this.usTpPrice,this.myusTpLimitNum=this.usTpLimitNum,this.myusTpLimitPrice=this.usTpLimitPrice),this.myajax()},methods:{bottomchange:function(t){this.bottomshow=!this.bottomshow},opennew:function(t){this.$router.push({name:t})},tab:function(t,e){this.myusTraderStoresId=e,this.index=t},submit:function(){function e(){plus.nativeUI.showWaiting()}window.plus?e():document.addEventListener("plusready",e,!1);var s=this;if(""==s.time||""==s.myusTpPrice||0==s.myusTpPrice)return alert("请输入正确的参数"),!1;if(0==this.myusTraderStoresId?this.usTpIsStores=0:this.usTpIsStores=1,s.time=s.time.replace(/-/g,"/"),""==this.usTpLimitNum){var i={usTraderId:localStorage.getItem("userid"),usTraderStoresId:s.myusTraderStoresId,usTpLimitPrice:s.myusTpLimitPrice,usTpPrice:s.myusTpPrice,usTpAbortTime:new Date(s.time),usTpIsStores:s.usTpIsStores,usTpLimitNum:s.myusTpLimitNum};t.ajax({type:"post",url:s.myurl+"/insertUsTraderPackage",dataType:"json",data:i,success:function(t){function e(){plus.nativeUI.closeWaiting()}window.plus?e():document.addEventListener("plusready",e,!1),1==t.data?(plus.nativeUI.toast("添加完成"),s.$router.back()):plus.nativeUI.toast("添加失败")}})}else{i={usTraderId:localStorage.getItem("userid"),usTraderStoresId:s.myusTraderStoresId,usTpLimitPrice:s.myusTpLimitPrice,usTpPrice:s.myusTpPrice,usTpAbortTime:new Date(s.time),usTpLimitNum:s.myusTpLimitNum,usTpStatus:1,usTraderPackageId:s.usTraderPackageId};t.ajax({type:"post",url:s.myurl+"/updateUsTraderPackage",dataType:"json",data:i,success:function(t){1==t.data?alert("编辑完成"):alert("编辑失败")}})}},change:function(t){this.two=t},handelChange:function(t,e){this.time=e},timeshow:function(){this.calendarShow=!this.calendarShow},myajax:function(){var e=this;t.ajax({type:"post",url:e.myurl+"/selectUsTraderStores",data:{usTraderId:localStorage.getItem("userid")},dataType:"json",success:function(t){console.log(t),e.navdata=t.data}})}},computed:{myurl:function(){return this.$store.state.myurl},usTpPrice:function(){return this.$store.state.usTpPrice},usTpLimitPrice:function(){return this.$store.state.usTpLimitPrice},usTpLimitNum:function(){return this.$store.state.usTpLimitNum},usTraderPackageId:function(){return this.$store.state.usTraderPackageId}},components:{THead:function(t){return s.e(54).then(function(){var e=[s("2Hch")];t.apply(null,e)}.bind(this)).catch(s.oe)}}}}).call(e,s("7t+N"))},IfP3:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=s("+qRF"),a={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"addstart",attrs:{id:"wrapper"}},[s("t-head"),t._v(" "),s("div",{attrs:{id:"main"}},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.myusTpPrice,expression:"myusTpPrice"}],attrs:{type:"number",placeholder:"请输入红包金额"},domProps:{value:t.myusTpPrice},on:{input:function(e){e.target.composing||(t.myusTpPrice=e.target.value)}}}),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.myusTpLimitPrice,expression:"myusTpLimitPrice"}],attrs:{type:"number",placeholder:"红包使用限制金额"},domProps:{value:t.myusTpLimitPrice},on:{input:function(e){e.target.composing||(t.myusTpLimitPrice=e.target.value)}}}),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.myusTpLimitNum,expression:"myusTpLimitNum"}],attrs:{type:"number",placeholder:"限购数量"},domProps:{value:t.myusTpLimitNum},on:{input:function(e){e.target.composing||(t.myusTpLimitNum=e.target.value)}}}),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.time,expression:"time"}],attrs:{type:"text",placeholder:"请输入红包到期时间",readonly:"readonly"},domProps:{value:t.time},on:{click:t.timeshow,input:function(e){e.target.composing||(t.time=e.target.value)}}}),t._v(" "),s("div",{staticClass:"box"},t._l(t.navdata,function(e,i){return s("div",{staticClass:"group",class:t.index==i?"active":"",on:{click:function(s){return t.tab(i,e.usTraderStoresId)}}},[t._v("\n\t\t\t\t"+t._s(e.usTsCompanyName)+"\n\t\t\t")])}),0),t._v(" "),s("div",{staticClass:"submit",on:{click:t.submit}},[t._v("\n\t\t\t提交\n\t\t")])]),t._v(" "),s("calendar",{on:{change:t.handelChange},model:{value:t.calendarShow,callback:function(e){t.calendarShow=e},expression:"calendarShow"}})],1)},staticRenderFns:[]};var r=function(t){s("xCgy")},u=s("VU/8")(i.a,a,!1,r,null,null);e.default=u.exports},xCgy:function(t,e){}});
//# sourceMappingURL=46.bd1b951da2155dc2ade9.js.map