webpackJsonp([43],{"7tOk":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=a("ONOf"),r={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"login",attrs:{id:"wrapper"}},[i("t-head"),e._v(" "),i("div",{attrs:{id:"main"}},[i("form",{attrs:{action:""}},[""==e.usRiderId?i("div",{staticClass:"input-group"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.usRiName,expression:"usRiName"}],attrs:{type:"text",placeholder:"姓名"},domProps:{value:e.usRiName},on:{input:function(t){t.target.composing||(e.usRiName=t.target.value)}}})]):e._e(),e._v(" "),i("div",{staticClass:"input-group"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.usRiPhone,expression:"usRiPhone"}],attrs:{type:"number",placeholder:"手机号"},domProps:{value:e.usRiPhone},on:{input:function(t){t.target.composing||(e.usRiPhone=t.target.value)}}})]),e._v(" "),i("div",{staticClass:"input-group"},[i("div",{staticClass:"title"},[e._v("性别")]),e._v(" "),i("label",{attrs:{for:"sex"}},[e._v("男")]),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.usRiSex,expression:"usRiSex"}],attrs:{type:"radio",name:"sex",id:"sex",value:"1"},domProps:{checked:e._q(e.usRiSex,"1")},on:{change:function(t){e.usRiSex="1"}}}),e._v(" "),i("label",{attrs:{for:"sex02"}},[e._v("女")]),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.usRiSex,expression:"usRiSex"}],attrs:{type:"radio",name:"sex",id:"sex02",value:"2"},domProps:{checked:e._q(e.usRiSex,"2")},on:{change:function(t){e.usRiSex="2"}}})]),e._v(" "),i("div",{staticClass:"input-group"},[i("input",{attrs:{type:"text",placeholder:"请上传头像照片",readonly:"readonly"}}),e._v(" "),i("img",{attrs:{src:a("PRuO"),id:"usRiHeadImgUrl"},on:{click:function(t){return e.upload("usRiHeadImgUrl")}}})]),e._v(" "),i("div",{staticClass:"input-group"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.usRiCardId,expression:"usRiCardId"}],attrs:{type:"text",placeholder:"身份证号"},domProps:{value:e.usRiCardId},on:{input:function(t){t.target.composing||(e.usRiCardId=t.target.value)}}})]),e._v(" "),""==e.usRiderId?i("div",{staticClass:"input-group"},[i("input",{attrs:{type:"text",placeholder:"身份证正面照",readonly:"readonly"}}),e._v(" "),i("img",{attrs:{src:a("PRuO"),id:"usRiCardFrontImgUrl"},on:{click:function(t){return e.upload("usRiCardFrontImgUrl")}}})]):e._e(),e._v(" "),""==e.usRiderId?i("div",{staticClass:"input-group"},[i("input",{attrs:{type:"text",placeholder:"身份证背面照",readonly:"readonly"}}),e._v(" "),i("img",{attrs:{src:a("PRuO"),id:"usRiCardBackImgUrl"},on:{click:function(t){return e.upload("usRiCardBackImgUrl")}}})]):e._e(),e._v(" "),""==e.usRiderId?i("div",{staticClass:"input-group"},[i("input",{attrs:{type:"text",placeholder:"手持身份证照",readonly:"readonly"}}),e._v(" "),i("img",{attrs:{src:a("PRuO"),id:"usRiCardHandheldImgUrl"},on:{click:function(t){return e.upload("usRiCardHandheldImgUrl")}}})]):e._e(),e._v(" "),i("div",{staticClass:"input-group"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.area,expression:"area"}],attrs:{type:"text",placeholder:"联系地址",readonly:"readonly"},domProps:{value:e.area},on:{click:e.citychange,input:function(t){t.target.composing||(e.area=t.target.value)}}})]),e._v(" "),i("div",{staticClass:"input-group"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.area01,expression:"area01"}],attrs:{type:"text",placeholder:"配送地址",readonly:"readonly"},domProps:{value:e.area01},on:{click:e.citychange01,input:function(t){t.target.composing||(e.area01=t.target.value)}}})]),e._v(" "),i("div",{staticClass:"input-group"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.usRiDetailed,expression:"usRiDetailed"}],attrs:{type:"text",placeholder:"详细地址"},domProps:{value:e.usRiDetailed},on:{input:function(t){t.target.composing||(e.usRiDetailed=t.target.value)}}})]),e._v(" "),i("input",{attrs:{type:"button",name:"mysubmit",id:"mysubmit",value:"提交"},on:{click:e.gosubmit}})]),e._v(" "),i("transition",{attrs:{name:"fade"}},[i("city-picker",{directives:[{name:"show",rawName:"v-show",value:e.cityboo,expression:"cityboo"}],on:{citychange:e.citychange,alertchange:e.alertchange}})],1),e._v(" "),i("transition",{attrs:{name:"fade"}},[i("city-picke",{directives:[{name:"show",rawName:"v-show",value:e.cityboo02,expression:"cityboo02"}],on:{citychange:e.citychange01,alertchange:e.alertchange}})],1),e._v(" "),i("transition",{attrs:{name:"alert"}},[i("alert",{directives:[{name:"show",rawName:"v-show",value:e.alertboo,expression:"alertboo"}],on:{alertchange:e.alertchange,alerttrue:e.alertchange}})],1)],1)],1)},staticRenderFns:[]};var s=function(e){a("q0CV")},n=a("VU/8")(i.a,r,!1,s,null,null);t.default=n.exports},ONOf:function(module,__webpack_exports__,__webpack_require__){"use strict";(function($){var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify__=__webpack_require__("mvHQ"),__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify__);__webpack_exports__.a={name:"userregister",data:function(){return{cityboo02:!1,usRiDetailed:"",uploadtarget:"",files:[],cityboo:!1,alertboo:!1,usRiName:"",shopname:"",bottomboo:!1,bottomtext:"",usRiPhone:"",usRiCardId:"",usRiSex:""}},mounted:function(){""==this.usRiderId?this.$store.state.head="添加骑手":this.$store.state.head="编辑骑手"},methods:{bottomshow:function(e){this.bottomboo=!this.bottomboo,this.bottomtext=e},alertchange:function(){this.alertboo=!this.alertboo},citychange:function(){this.cityboo=!this.cityboo},citychange01:function(){this.cityboo02=!this.cityboo02},opennew:function(e){this.$router.push({name:e})},gosubmit:function(){var e=$("#usRiHeadImgUrl").prev().val(),t=$("#usRiCardFrontImgUrl").prev().val(),a=$("#usRiCardBackImgUrl").prev().val(),i=$("#usRiCardHandheldImgUrl").prev().val();if(""==this.usRiderId){var r={usTraderId:localStorage.getItem("userid"),usTrName:localStorage.getItem("username"),usRiPhone:this.usRiPhone,usRiName:this.usRiName,usRiSex:this.usRiSex,usRiHeadImgUrl:e,usRiProvince:this.province,usRiCity:this.city,usRiArea:this.area,usRiDetailed:this.usRiDetailed,usRiCardId:this.usRiCardId,usRiCardFrontImgUrl:t,usRiCardBackImgUrl:a,usRiCardHandheldImgUrl:i,usRiServingProvince:this.province01,usRiServingCity:this.city01,usRiServingArea:this.area01};$.ajax({type:"post",url:this.myurl+"/insertTraderRider",dataType:"json",data:r,success:function(e){console.log(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default()(e))}})}else{r={usRiderId:this.usRiderId,usTraderName:localStorage.getItem("username"),usRiPhone:this.usRiPhone,usRiHeadImgUrl:e,usRiProvince:this.province,usRiCity:this.city,usRiArea:this.area,usRiDetailed:this.usRiDetailed,usRiServingProvince:this.province01,usRiServingCity:this.city01,usRiServingArea:this.area01,usRiServingRange:this.usRiServingRange};$.ajax({type:"post",url:this.myurl+"/updateTraderRider",dataType:"json",data:r,success:function(e){console.log(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default()(e))}})}this.$store.state.alerttext="添加成功！",this.alertboo=!this.alertboo},upload:function(e){var t=this;t.files=[],t.uploadtarget=e;plus.nativeUI.actionSheet({title:"请选择",cancel:"取消",buttons:[{title:"照相机"},{title:"相册"}]},function(e){switch(e.index){case 1:t.camera();break;case 2:t.album()}})},camera:function(){var e=this;plus.camera.getCamera().captureImage(function(t){plus.io.resolveLocalFileSystemURL(t,function(t){t.name;var a=t.toLocalURL();document.getElementById(e.uploadtarget).setAttribute("src",a),e.upload_img(a)},function(e){alert("读取拍照文件错误："+e.message)})},function(e){alert("失败："+e.message)},{filename:"_doc/camera/",index:1})},album:function(){var e=this;plus.gallery.pick(function(t){document.getElementById(e.uploadtarget).setAttribute("src",t),e.upload_img(t)},function(e){alert("取消选择图片")},{filter:"image"})},upload_img:function(e){e.substr(e.lastIndexOf("/")+1);this.files.push({name:"uploadkey",path:e}),this.start_upload()},start_upload:function start_upload(){var that=this;if(that.files.length<=0)plus.nativeUI.alert("没有添加上传文件！");else{var wt=plus.nativeUI.showWaiting(),task=plus.uploader.createUpload(that.myurl+"/imageRiderImageUsTraderStores",{method:"POST"},function(t,status){if(200==status){var responseText=t.responseText,json=eval("("+responseText+")");$("#"+that.uploadtarget).prev().val(json.data),wt.close()}else alert("上传失败："+status),wt.close()});task.addData("uid",that.getUid());for(var i=0;i<that.files.length;i++){var f=that.files[i];task.addFile(f.path,{key:f.name})}task.start()}},getUid:function(){return Math.floor(1e8*Math.random()+1e7).toString()}},computed:{myurl:function(){return this.$store.state.myurl},usRiderId:function(){return this.$store.state.usRiderId},province:function(){return this.$store.state.province},city:function(){return this.$store.state.city},area:function(){return this.$store.state.area},province01:function(){return this.$store.state.province01},city01:function(){return this.$store.state.city01},area01:function(){return this.$store.state.area01}},components:{cityPicker:function(e){return __webpack_require__.e(57).then(function(){var t=[__webpack_require__("MiQN")];e.apply(null,t)}.bind(this)).catch(__webpack_require__.oe)},cityPicke:function(e){return __webpack_require__.e(58).then(function(){var t=[__webpack_require__("yO/V")];e.apply(null,t)}.bind(this)).catch(__webpack_require__.oe)},alert:function(e){return __webpack_require__.e(56).then(function(){var t=[__webpack_require__("fSq5")];e.apply(null,t)}.bind(this)).catch(__webpack_require__.oe)},THead:function(e){return __webpack_require__.e(55).then(function(){var t=[__webpack_require__("2Hch")];e.apply(null,t)}.bind(this)).catch(__webpack_require__.oe)}}}}).call(__webpack_exports__,__webpack_require__("7t+N"))},q0CV:function(e,t){}});
//# sourceMappingURL=43.9b796573ad690fb5bd96.js.map