webpackJsonp([46],{"6maf":function(t,e,s){"use strict";(function(t){e.a={name:"addstart",data:function(){return{calendarShow:!1,index:0,two:!1,navdata:"",mytype:"",usTpIsStores:"",usTsFullPrice:"",usTsSubtractPrice:"",myusTraderStoresId:"",time:""}},mounted:function(){""==this.money01?(this.$store.state.head="添加满减活动",this.mytype=0):(this.$store.state.head="编辑满减活动",this.mytype=1,this.usTsFullPrice=this.money01,this.usTsSubtractPrice=this.money02,this.$refs.Calendar.ChoseMonth(this.$store.state.mytime),this.time=this.$store.state.mytime),this.myajax()},methods:{timeshow:function(){this.calendarShow=!this.calendarShow},handelChange:function(t,e){this.time=e},opennew:function(t){this.$router.push({name:t})},tab:function(t,e){this.myusTraderStoresId=e,this.index=t},submit:function(){function e(){plus.nativeUI.showWaiting()}window.plus?e():document.addEventListener("plusready",e,!1);var s=this;return""==this.usTsFullPrice||""==this.usTsSubtractPrice||0==this.usTsFullPrice||0==this.usTsSubtractPrice?(alert("请输入正确的金额"),!1):this.usTsFullPrice<=this.usTsSubtractPrice?(alert("满足金额不能大于减去金额"),!1):void(0==this.mytype?(0==this.usTraderStoresId?this.usTpIsStores=0:this.usTpIsStores=1,t.ajax({type:"post",url:s.myurl+"/insertUsTraderSubtract",data:{usTraderId:localStorage.getItem("userid"),usTsFullPrice:s.usTsFullPrice,usTsSubtractPrice:s.usTsSubtractPrice,usTpIsStores:s.usTpIsStores,usTraderStoresId:s.myusTraderStoresId,time:s.time},dataType:"json",success:function(t){function e(){plus.nativeUI.closeWaiting()}window.plus?e():document.addEventListener("plusready",e,!1),1==t.data?(plus.nativeUI.toast("添加完成"),s.$router.back()):plus.nativeUI.toast("添加失败")}})):(0==this.usTraderStoresId?this.usTpIsStores=0:this.usTpIsStores=1,t.ajax({type:"post",url:s.myurl+"/updateUsTraderSubtract",data:{usTsFullPrice:s.usTsFullPrice,usTsSubtractPrice:s.usTsSubtractPrice,usTraderSubtractId:s.usTraderSubtractId,usTraderId:localStorage.getItem("userid"),usTraderStoresId:s.myusTraderStoresId,time:s.time},dataType:"json",success:function(t){1==t.data?(plus.nativeUI.toast("编辑完成"),s.$router.back()):plus.nativeUI.toast("编辑失败")}})))},change:function(t){this.two=t},myajax:function(){var e=this;t.ajax({type:"post",url:e.myurl+"/selectUsTraderStores",data:{usTraderId:localStorage.getItem("userid")},dataType:"json",success:function(t){0==t.data.length&&(alert("请先添加店铺"),this.opennew("addshop")),e.navdata=t.data,e.tab(0,t.data[0].usTraderStoresId)}})}},computed:{myurl:function(){return this.$store.state.myurl},money01:function(){return this.$store.state.money01},money02:function(){return this.$store.state.money02},usTraderSubtractId:function(){return this.$store.state.usTraderSubtractId},usTraderStoresId:function(){return this.$store.state.usTraderStoresId}},components:{THead:function(t){return s.e(55).then(function(){var e=[s("2Hch")];t.apply(null,e)}.bind(this)).catch(s.oe)}}}}).call(e,s("7t+N"))},YZ4e:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=s("6maf"),a={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"addstart",attrs:{id:"wrapper"}},[s("t-head"),t._v(" "),s("div",{attrs:{id:"main"}},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.usTsFullPrice,expression:"usTsFullPrice"}],attrs:{type:"number",placeholder:"请输入满足金额(元)"},domProps:{value:t.usTsFullPrice},on:{input:function(e){e.target.composing||(t.usTsFullPrice=e.target.value)}}}),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.usTsSubtractPrice,expression:"usTsSubtractPrice"}],attrs:{type:"number",placeholder:"请输入减去金额(元)"},domProps:{value:t.usTsSubtractPrice},on:{input:function(e){e.target.composing||(t.usTsSubtractPrice=e.target.value)}}}),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.time,expression:"time"}],attrs:{type:"text",placeholder:"请输入满减到期时间",readonly:"readonly"},domProps:{value:t.time},on:{click:t.timeshow,input:function(e){e.target.composing||(t.time=e.target.value)}}}),t._v(" "),s("div",{staticClass:"box"},t._l(t.navdata,function(e,r){return s("div",{staticClass:"group",class:t.index==r?"active":"",on:{click:function(s){return t.tab(r,e.usTraderStoresId)}}},[t._v("\n\t\t\t\t"+t._s(e.usTsCompanyName)+"\n\t\t\t")])}),0),t._v(" "),s("div",{staticClass:"submit",on:{click:t.submit}},[t._v("\n\t\t\t提交\n\t\t")])]),t._v(" "),s("calendar",{ref:"Calendar",on:{change:t.handelChange},model:{value:t.calendarShow,callback:function(e){t.calendarShow=e},expression:"calendarShow"}})],1)},staticRenderFns:[]};var u=function(t){s("zbOV")},i=s("VU/8")(r.a,a,!1,u,null,null);e.default=i.exports},zbOV:function(t,e){}});
//# sourceMappingURL=46.d7f9d239fbfab0186124.js.map